hostname core
buggy
banner encoded WFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYDQpYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFgNClhYWFggWFhYWFggWFhYICAgIFhYWCAgICAgWFhYIFhYIFhYIFhYWFggWFhYWFhYWFhYWFhYWFhYWFhYWA0KWFhYWCAgWFhYWCBYWCBYWFhYIFhYIFhYWFggWFggWFggWFggWFhYWCBYWFhYWFhYL35+fn5cWFhYWFhYDQpYWFhYIFggWFhYIFhYIFhYWFggWFggWFhYWCBYWCBYWCBYWCBYWFhYIFhYWFhYWHwgY29yZSB8WFhYWFgNClhYWFggWFggWFggWFggWFhYWCBYWCAgICAgWFhYICAgIFhYIFhYWFggWFhYWFhYWFxfX19fL1hYWFhYWA0KWFhYWCBYWFggWCBYWCBYWFhYIFhYIFhYWFhYWFggWFggWFggWFhYWCBYWFhYWFhYWFhYWFhYWFhYWFhYDQpYWFhYIFhYWFggIFhYIFhYWFggWFggWFhYWFhYWCBYWCBYWCBYWFhYIFhYWFhYWFhYWFhYWFhYWFhYWFgNClhYWFggWFhYWFggWFhYICAgIFhYWCBYWFggWFhYIFhYIFhYWCAgICBYWFhYWFhYWFhYWFhYWFhYWFhYWA0KWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYDQpYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFgNCg==
!
logging buffered debug 1024
logging file debug /rtr/zzz.log
logging rotate 32768000 /rtr/zzz.old
logging irc debug irc.mchome.nop.hu #routers
!
crypto rsakey rsa import $v10$TUlJRXBBSUJBQUtDQVFFQWl0U1Z6ZGpHVkdHY2NWWjhHVHdJU2FBM1A4c2NLQ1hHcGZDdFlsM2VSY1lSR2FYUFpNRkdnTXpURWMwaUdWZ29sdEYxTmk4MWtnV1F3Y1QyM0hhK0Q1emJIcmZ5VjdlSUlodzQ5UE5GeEpoNytDZzl6YVUrSHpHM0NIK0x4cUhJRUliMVNVc2g5TytxOWhjdDIvMDRCV3JkZWpZNjZKekZaL1BIaUZVcWhOV3FIa2NVR1k0OHNpVW16N2c2ZVY2aFk3RG5LdTBsSzBZTGNpUnhQOVNoY2MreHBoMlZMUVpGWENvb0ROWkU1WlQ2TW5MTnFpeDBhMnE4Nk80REdqMEZRWEkwRy9NNWhoUk1qM0o3aUd6Z2ZiYVpCN3VoWW8zZXJPY3hUNlNqOEpNM1J4TlRzeGlhcE9RZTYxYVNvcm1xOFd2dTdzZitSSExEQzZSdGptemxud0lEQVFBQkFvSUJBRjM4cmE0K0k0YmN6bHlzZ0RkVlBRY2JRRXdmNVdBSXN3T0VmTjByVDE5TlNDWms2cEw3aGcrTW14aGlGOE93dTBuZlk4cmJDeGxnU3kvamVIeW9wdU5LL2MwK0d3TG5iWElxU1NVTHpSL2JXNUlWTEVJY3JJSFIxbWdhY1RaNE1FbUFGRzhhUGxMa0xvbU1CNi8zTGdYODR4UHB3dGZYeW8wbHJOL1BTSW5FV2VKbDROblNBd1pvdkcwTWhBdlBZRnVDRW1mcWVtdnUzblFWNWhrd1BCMm40b3graTBjWDlyVjVFTGM4V3FvMXBrWmFNb1BSMkRQWHlURm5JdGxxeXJQM0JIZ1lXZzUxcy9vbDZrTzJuSkl0aU01RzJ3TEVCTHFybVVEL2RDR0phUFBXbk5TM1l6cTVhTkVDczdnTGczd3VjbnQ0QnE0TWpsK1BNeHlESUlFQ2dZRUE0QmJ5L1VZVmdrSVpDM1l0Z1lwMFNqTGZOUjVSVDlWazA0eVUySGxhRCtvS2Nhc2dvU2sxa3p4RjBqTDlDSlQ0bW1HWnQ3RHp0T2taMXVOMnRIc29aZ2cxMFM1UytjUE5yb0luQ0dTVkFEU1hyeDdkQ0dlcFFvUGYrQTlnSkpxaENKWDRxWldmNmNsck9pbFFQOFFrVXo1NmMrYlMxakptd2Y1SGlNNm1IblVDZ1lFQW5wbVFFOStrSXVUYTRuS3hmVzZTa1VucWN2QVpwbjRyWWZvZmRvZkIvaHdDNnUzMi8vdmJhdDZJRXJ2RkFiODArWFVVbEkzVWE2YVk3SjJEWUZmcWw5aGlNRUFWd2lxQlVXMmVVNXFQWjN0Z1RlcEJtaC9ySHhOc2VZWkppNXZBMHRtNkdGN21zR0l2UzRwNWdxRHJPWThGSnZhNXlIeEpnbEluaEpQam1VTUNnWUFWYmJ4Z3dlSHVxZGx4UWlUSjNXNlBaZHY0WFdUVEtJblN2UC9DejUvd0k2WktCbDVCYXdwbmdQMEFROFgwbXlKR3lReUZCMVBXdWUreG4rRExFM2ZpZ2VoN2oxMTU2dUp4VEpyazc1RmNDcXR5b0pYc1p0VkZ1Z3loMFA2Vm9YL0NyV3l3OHREdTcwYmtzZXl0bkZrSTZOR1c0YnpKcE5vMHROY3NXdTZCdlFLQmdRQ1p4anpLK0NFVjhCMUdTSHhOS01PVmVUeUhlc0wwQ2dzWU1VTUdVdlRGNC9UMFFnd21BTldxMWQ3TGd5R3Q0dTJESFlENTFGWnNsaGhaK3hNaGU3eXF3NVBZUXBxV0swNDlYSEtSangrUjd5N2QvTTdrbUNRSmVuVEhrMnVGb0Z1aVZKYTZBSEhkL1NUc01uUkVNckEvbTZzY0wwYk0yNjBPWFllUlpTN2RMd0tCZ1FDVkxRdnE1VjFlMHlrbjc5TFg1L3I4T3FTUHhDSHBObHlCK09DdmNyMGxncnFNd0szblBMVjk4SVY0THhxTjgwRGZCUWpOUE5xU0JqOGR1NG40UW5BMU5kWTdibGhmVGI0TjArY0VDVHJLS0FtT24xcmFURHdPTEk1NWNaWnJSQTFQZmJ4SkxiOE91ZE55V1c5ZkQ0Uys3RENGNHhvNW9aYitmc0puRnpmRmJRPT0=
!
crypto dsakey dsa import $v10$TUlJQnV3SUJBQUtCZ1FETWp0OGJCQ0pzclVoak5ZenVoZVNManZya2VzekNoeXNTVW9Lc0NRd1NZdjdnTTlHbUtqMHRmR2dnenhRNHh3M1R3R3VPd0ZjVDFXMDFJajJuYU1wNGZHU1o3dHdaMHZTQnpkdEJrazRXdU5RRHFpeFNXODZlUzdpM0gwaFNhd0JoSk5jWVliK3k5Y3FYdVZXNnYvMlN3emRWMmpUL1lxOXUwWGpHS1FOdXF3SVZBT2NsNmpEWUpHOFZaMURVQzFZQndoMVhvQUxqQW9HQkFKTjJWUVhwS3J2bDhpNXI0aEs1Wm1wWjRDaUhWL09YejA1SWxjRFNpb1ZVU1hYQUROSEloUE1lME54K0NrY01oMUU1MUJrWHRGOFhidkVGM0M5VXpCdTNGZDhLWVU4SU83c3h6Y2dxTzhoZGpCOVpnalF2VVFJSkxxdklQejgrK05UTktHcEpLNFpPaXY2NDBtMVM3anZjZVpDK0VoZzhjSVhJU2g1dEtRaFNBb0dBQ0xHNkJmU2lOeFdzYVJYS1NGaktkc21WMWE5RExJZ2daMXllaU0zZEQ3L3RzOHlhUkZNdlZlNFdVdHlIa3A3TjJpdTYraW5yVUFvdXpMTDZiajQzc2xrYnlNbFRCcjh5Kzh0TVd6VXlob2c0bEdpVlNCa2VYZDhGOGZ6SmFjTjR6ekpSS1FlQzBpWEtvRWlGS3dnTUg3OVNOVU42MnVwRWphditNQnNVT3BZQ0ZDZHErcDlXV3BrdXRiSUlrL05reTNiZUJqMks=
!
crypto ecdsakey ecdsa import $v10$TUlIYkFnRUJCRUVBc29aSlVObHRYYVBUZjVDQ0xLenBZNDJjcUNFT1lmRzVlaCtidU5jdVEvTkVXMjFKT2tSSWdnRGNSRUcvRnk5NXcrbHNobm5WV3pyNXhDMTdGeU5mTWFBSEJnVXJnUVFBSTZHQmlRT0JoZ0FFQVMwdXE3ZVpKeDV2Mjg4aHptZEFyTldoLzNjSThBOVRra1oyRXZUN3RBOEJEVHM4THN4TUNIZ3hXQnZuTkpmYzBMSk4zelBJemxQcCtxVFVQS08zckM3dkFNekJTYVlqdldMc1p0UlprdndJcEZnd2orbWZJV2pIU202Z1MyUDdEbXkyZC9jMTBLR0ZwWVNRRnBmMVNvd3Y2bDFkcllwZHN4TWd0TXdPZTI1aXlMdng=
!
aaa userlist acc-loc
 username mc36
 username mc36 password $v10$ZmFzem9t
 exit
!
aaa radius acc-rad
 secret $v10$ZmFzem9tMzY=
 server 10.10.10.10
 exit
!
aaa list access
 sequence 10 acc-rad
 sequence 20 acc-loc
 exit
!
scheduler errors
 time 600000
 delay 30000
 command clear errors freerror@nop.hu
 start
 exit
!
scheduler upgrade
 time 120000
 delay 60000
 random-time 10000
 random-delay 60000
 command flash upgrade
 start
 exit
!
script upgrade
 sequence 10 exec "test logging error getting away of paths"
 sequence 20 config "router lsrp4 1" "stub"
 sequence 30 config "router lsrp6 1" "stub"
 sequence 40 exec "sleep 1000"
 stop
 exit
!
access-list all
 sequence 10 permit all any all any all
 exit
!
route-map exp-to-asbr2
 sequence 10 action deny
 sequence 10 match extcomm 2:25600:2359300
 !
 sequence 20 action deny
 sequence 20 match extcomm 2:25600:2359301
 !
 sequence 30 action permit
 !
 exit
!
route-policy exp-to-pe1
 sequence 10 if protocol bgp4 1
 sequence 20   set nexthop 100.1.0.37
 sequence 30   pass
 sequence 40 enif
 sequence 50 drop
 exit
!
route-policy imp-resol-scheme
 sequence 10 if extcomm 2562:0:128
 sequence 20   set vrf eantc-bgp-ct-gold ipv4
 sequence 30   pass
 sequence 40 enif
 sequence 50 if extcomm 2562:0:129
 sequence 60   set vrf eantc-bgp-ct-bronze ipv4
 sequence 70   pass
 sequence 80 enif
 sequence 90 drop
 exit
!
route-policy prefer
 sequence 10 set locpref 160
 sequence 20 pass
 exit
!
route-policy resol-scheme-bronze
 sequence 10 if extcomm 2562:0:129
 sequence 20   pass
 sequence 30 enif
 sequence 40 drop
 exit
!
route-policy resol-scheme-gold
 sequence 10 if extcomm 2562:0:128
 sequence 20   pass
 sequence 30 enif
 sequence 40 drop
 exit
!
vrf definition eantc-bgp-ct
 label4mode per-prefix
 exit
!
vrf definition eantc-bgp-ct-bronze
 rd 91136:2359301
 rt4import 91136:2359301
 rt4export 91136:2359301
 rt6import 91136:2359301
 rt6export 91136:2359301
 clr4import 129
 clr4export 129
 clr6import 129
 clr6export 129
 label4mode per-prefix
 exit
!
vrf definition eantc-bgp-ct-gold
 rd 91136:2359300
 rt4import 91136:2359300
 rt4export 91136:2359300
 rt6import 91136:2359300
 rt6export 91136:2359300
 clr4import 128
 clr4export 128
 clr6import 128
 clr6export 128
 label4mode per-prefix
 exit
!
vrf definition inet
 exit
!
vrf definition nmaas
 rd 65535:9112
 rt4import 65535:9112
 rt4export 65535:9112
 rt6import 65535:9112
 rt6export 65535:9112
 exit
!
vrf definition p4
 exit
!
router isis4 1
 vrf eantc-bgp-ct
 net-id 48.1111.0000.0137.00
 traffeng-id 100.1.0.37
 is-type level2
 level2 traffeng
 exit
!
router isis4 2
 vrf eantc-bgp-ct-gold
 net-id 48.1112.0000.0137.00
 traffeng-id 100.7.0.37
 is-type level2
 level2 traffeng
 exit
!
router isis4 3
 vrf eantc-bgp-ct-bronze
 net-id 48.1112.0000.0137.00
 traffeng-id 100.9.0.37
 is-type level2
 level2 traffeng
 exit
!
router lsrp4 1
 vrf inet
 router-id 10.10.10.28
 lifetime 2147483000
 spf-bidir
 spf-ecmp
 suppress-prefix
 segrout 300 28
 bier 256 300 28
 justadvert loopback0
 ecmp
 exit
!
router lsrp6 1
 vrf inet
 router-id 10.10.10.28
 lifetime 2147483000
 spf-bidir
 spf-ecmp
 suppress-prefix
 segrout 300 28
 bier 256 300 28
 justadvert loopback0
 ecmp
 exit
!
interface template1
 description core links
 lldp enable
 cdp enable
 vrf forwarding inet
 ipv4 address dynamic 255.255.255.252
 ipv4 srh enable
 ipv4 bfd 500 1500 3
 ipv4 pim enable
 ipv4 pim bier-tunnel 28
 ipv4 pim join-source loopback0
 ipv6 address dynamic ffff:ffff:ffff:ffff::
 ipv6 enable
 ipv6 srh enable
 ipv6 bfd 500 1500 3
 ipv6 pim enable
 ipv6 pim bier-tunnel 28
 ipv6 pim join-source loopback0
 polka enable 28 70000 256
 mpolka enable 28 70000 256
 mpls enable
 mpls ldp4
 mpls ldp6
 mpls rsvp4
 mpls rsvp6
 router lsrp4 1 enable
 router lsrp4 1 bfd
 router lsrp4 1 password $v10$cnhBZUhMMGswNGhuS1E3VEtxaW8zV1RZTTBPb3plMUs=
 router lsrp4 1 metric 1
 router lsrp6 1 enable
 router lsrp6 1 bfd
 router lsrp6 1 password $v10$M25QVDBuRXpFa3dnWUpKTm5Rb1FWUFNmbmV4cjZJbXg=
 router lsrp6 1 metric 1
 shutdown
 no log-link-change
 exit
!
interface loopback0
 description management
 vrf forwarding inet
 ipv4 address 10.10.10.28 255.255.255.255
 ipv6 address 2001:db8:1101::28 ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff
 template template1
 no shutdown
 exit
!
interface loopback1
 vrf forwarding eantc-bgp-ct
 ipv4 address 100.1.0.37 255.255.255.255
 mpls enable
 mpls rsvp4
 router isis4 1 enable
 router isis4 1 circuit level2
 router isis4 1 traffeng bandwidth 1000000000
 no shutdown
 no log-link-change
 exit
!
interface loopback2
 vrf forwarding eantc-bgp-ct
 ipv4 address 100.2.0.37 255.255.255.255
 mpls enable
 mpls rsvp4
 router isis4 1 enable
 router isis4 1 circuit level2
 router isis4 1 traffeng bandwidth 1000000000
 no shutdown
 no log-link-change
 exit
!
interface loopback6
 vrf forwarding eantc-bgp-ct
 ipv4 address 100.6.0.37 255.255.255.255
 mpls enable
 mpls rsvp4
 router isis4 1 enable
 router isis4 1 circuit level2
 router isis4 1 traffeng bandwidth 1000000000
 no shutdown
 no log-link-change
 exit
!
interface loopback7
 vrf forwarding eantc-bgp-ct-gold
 ipv4 address 100.7.0.37 255.255.255.255
 mpls enable
 mpls rsvp4
 no shutdown
 no log-link-change
 exit
!
interface loopback8
 description nmaas
 vrf forwarding nmaas
 ipv4 address 192.168.252.28 255.255.255.255
 no shutdown
 no log-link-change
 exit
!
interface loopback9
 vrf forwarding eantc-bgp-ct-bronze
 ipv4 address 100.9.0.37 255.255.255.255
 mpls enable
 mpls rsvp4
 no shutdown
 no log-link-change
 exit
!
interface ethernet0
 description p4emu
 no shutdown
 no log-link-change
 exit
!
interface ethernet1
 no shutdown
 no log-link-change
 exit
!
interface ethernet2
 no shutdown
 no log-link-change
 exit
!
interface null0
 description null
 vrf forwarding inet
 ipv4 address 192.0.2.0 255.255.255.0
 ipv6 address 100:: ffff:ffff:ffff:ffff::
 no shutdown
 no log-link-change
 exit
!
interface sdn47
 description switch
 mtu 8192
 macaddr 000b.313f.2e29
 lldp enable
 no shutdown
 log-link-change
 exit
!
interface sdn47.147
 vrf forwarding inet
 ipv4 address 10.1.2.90 255.255.255.252
 ipv6 address 2001:db8:6e::2 ffff:ffff:ffff:ffff::
 template template1
 no shutdown
 exit
!
interface sdn47.158
 description noti
 vrf forwarding inet
 ipv4 address 10.1.1.234 255.255.255.252
 ipv6 address 2001:db8:61::2 ffff:ffff:ffff:ffff::
 template template1
 no shutdown
 exit
!
interface sdn47.159
 description mediapc
 vrf forwarding inet
 ipv4 address 10.1.1.230 255.255.255.252
 ipv6 address 2001:db8:60::2 ffff:ffff:ffff:ffff::
 template template1
 no shutdown
 exit
!
interface sdn47.160
 description working
 vrf forwarding inet
 ipv4 address 10.1.1.226 255.255.255.252
 ipv6 address 2001:db8:5f::2 ffff:ffff:ffff:ffff::
 template template1
 no shutdown
 exit
!
interface sdn47.161
 description safe
 vrf forwarding inet
 ipv4 address 10.1.1.222 255.255.255.252
 ipv6 address 2001:db8:5e::2 ffff:ffff:ffff:ffff::
 template template1
 no shutdown
 exit
!
interface sdn47.162
 description player
 vrf forwarding inet
 ipv4 address 10.1.1.218 255.255.255.252
 ipv6 address 2001:db8:5d::2 ffff:ffff:ffff:ffff::
 template template1
 no shutdown
 exit
!
interface sdn47.163
 description nas
 vrf forwarding inet
 ipv4 address 10.1.1.214 255.255.255.252
 ipv6 address 2001:db8:5c::2 ffff:ffff:ffff:ffff::
 template template1
 no shutdown
 exit
!
interface sdn47.164
 description mchome
 vrf forwarding inet
 ipv4 address 10.1.1.210 255.255.255.252
 ipv6 address 2001:db8:5b::2 ffff:ffff:ffff:ffff::
 template template1
 no shutdown
 exit
!
interface sdn49
 mtu 1500
 macaddr 0043.604d.1324
 no shutdown
 no log-link-change
 exit
!
interface sdn49.100
 vrf forwarding eantc-bgp-ct
 ipv4 address 20.36.137.137 255.255.255.0
 mpls enable
 mpls rsvp4
 router isis4 1 enable
 router isis4 1 circuit level2
 router isis4 1 traffeng bandwidth 8000000
 no shutdown
 no log-link-change
 exit
!
interface sdn49.200
 vrf forwarding eantc-bgp-ct-gold
 ipv4 address 22.36.137.137 255.255.255.0
 mpls enable
 mpls rsvp4
 no shutdown
 no log-link-change
 exit
!
interface sdn49.300
 vrf forwarding eantc-bgp-ct-bronze
 ipv4 address 24.36.137.137 255.255.255.0
 mpls enable
 mpls rsvp4
 no shutdown
 no log-link-change
 exit
!
interface sdn50
 mtu 1500
 macaddr 0031.6659.2d25
 no shutdown
 no log-link-change
 exit
!
interface sdn50.100
 vrf forwarding eantc-bgp-ct
 ipv4 address 21.36.137.137 255.255.255.0
 mpls rsvp4
 no shutdown
 no log-link-change
 exit
!
interface sdn50.200
 vrf forwarding eantc-bgp-ct-gold
 ipv4 address 23.36.137.137 255.255.255.0
 mpls rsvp4
 no shutdown
 no log-link-change
 exit
!
interface sdn50.300
 vrf forwarding eantc-bgp-ct-bronze
 ipv4 address 25.36.137.137 255.255.255.0
 mpls rsvp4
 no shutdown
 no log-link-change
 exit
!
interface sdn53
 mtu 1500
 macaddr 0011.7b72.6409
 vrf forwarding eantc-bgp-ct
 no shutdown
 log-link-change
 exit
!
interface sdn54
 mtu 1500
 macaddr 0032.2c5c.7e31
 vrf forwarding eantc-bgp-ct
 no shutdown
 no log-link-change
 exit
!
interface sdn55
 mtu 1500
 macaddr 006a.344a.4668
 vrf forwarding eantc-bgp-ct
 ipv4 address 21.42.137.137 255.255.255.0
 mpls enable
 no shutdown
 no log-link-change
 exit
!
interface sdn56
 mtu 1500
 macaddr 000d.0e23.0955
 vrf forwarding eantc-bgp-ct
 ipv4 address 20.42.137.137 255.255.255.0
 mpls enable
 no shutdown
 no log-link-change
 exit
!
interface tunnel1
 description lsp_to_pe1_be
 tunnel vrf eantc-bgp-ct
 tunnel source loopback6
 tunnel destination 100.6.0.36
 tunnel mode p2pte
 vrf forwarding eantc-bgp-ct
 ipv4 address 100.1.3.36 255.255.255.0
 no shutdown
 no log-link-change
 exit
!
interface tunnel2
 description lsp_to_pe1_gold
 tunnel vrf eantc-bgp-ct-gold
 tunnel source loopback7
 tunnel destination 100.7.0.36
 tunnel mode p2pte
 vrf forwarding eantc-bgp-ct-gold
 ipv4 address 100.1.1.37 255.255.255.0
 no shutdown
 no log-link-change
 exit
!
interface tunnel3
 description lsp_to_pe1_bronze
 tunnel vrf eantc-bgp-ct-bronze
 tunnel source loopback9
 tunnel destination 100.9.0.36
 tunnel mode p2pte
 vrf forwarding eantc-bgp-ct-bronze
 ipv4 address 100.1.2.37 255.255.255.0
 no shutdown
 no log-link-change
 exit
!
router bgp4 1
 vrf eantc-bgp-ct
 local-as 64512
 router-id 100.0.0.137
 no safe-ebgp
 address-family unicast
 nexthop recursion 3
 !
 neighbor 21.42.137.42 remote-as 64513
 neighbor 21.42.137.42 local-as 64512
 neighbor 21.42.137.42 address-family ctp
 neighbor 21.42.137.42 distance 20
 neighbor 21.42.137.42 traffeng
 neighbor 21.42.137.42 send-community standard extended
 neighbor 21.42.137.42 route-policy-in imp-resol-scheme
 neighbor 21.42.137.42 vpn-route-policy-in imp-resol-scheme
 !
 neighbor 100.2.0.36 remote-as 64512
 neighbor 100.2.0.36 local-as 64512
 neighbor 100.2.0.36 address-family ctp
 neighbor 100.2.0.36 distance 200
 neighbor 100.2.0.36 update-source loopback2
 neighbor 100.2.0.36 traffeng
 neighbor 100.2.0.36 send-community standard extended
 neighbor 100.2.0.36 route-policy-in imp-resol-scheme
 neighbor 100.2.0.36 route-policy-out exp-to-pe1
 neighbor 100.2.0.36 vpn-route-policy-in imp-resol-scheme
 neighbor 100.2.0.36 vpn-route-policy-out exp-to-pe1
 !
 afi-clr eantc-bgp-ct-bronze enable
 afi-clr eantc-bgp-ct-bronze redistribute bgp4 1 route-policy resol-scheme-bronze
 !
 afi-clr eantc-bgp-ct-gold enable
 afi-clr eantc-bgp-ct-gold redistribute bgp4 1 route-policy resol-scheme-gold
 !
 !
 exit
!
router bgp4 10
 vrf eantc-bgp-ct
 local-as 64512
 router-id 100.0.0.137
 no safe-ebgp
 address-family unicast
 nexthop recursion 3
 !
 neighbor 20.42.137.42 remote-as 64513
 neighbor 20.42.137.42 local-as 64512
 neighbor 20.42.137.42 address-family labeled
 neighbor 20.42.137.42 distance 20
 neighbor 20.42.137.42 traffeng
 neighbor 20.42.137.42 send-community standard
 !
 neighbor 100.1.0.36 remote-as 64512
 neighbor 100.1.0.36 local-as 64512
 neighbor 100.1.0.36 address-family labeled
 neighbor 100.1.0.36 distance 200
 neighbor 100.1.0.36 update-source loopback1
 neighbor 100.1.0.36 traffeng
 neighbor 100.1.0.36 send-community standard
 !
 !
 exit
!
router bgp4 65535
 vrf inet
 local-as 65535
 router-id 10.10.10.28
 address-family unicast multicast ouni omlt flowspec oflw vpnuni vpnmlt vpnflw ovpnuni ovpnmlt ovpnflw vpls mspw evpn mdt nsh rpd rtfilter srte osrt linkstate mvpn omvpn
 monitor bmp inet 10.10.10.10 17971
 !
 template r remote-as 65535
 template r local-as 65535
 template r address-family unicast multicast ouni omlt flowspec oflw vpnuni vpnmlt vpnflw ovpnuni ovpnmlt ovpnflw vpls mspw evpn mdt nsh rpd rtfilter srte osrt linkstate mvpn omvpn
 template r distance 200
 template r connection-mode active
 template r compression both
 template r additional-path-rx unicast multicast vpnuni vpnmlt
 template r additional-path-tx unicast multicast vpnuni vpnmlt
 template r update-source loopback0
 template r monitor bmp
 template r hostname domain
 template r software
 template r extended-open
 template r extended-update
 template r aigp
 template r traffeng
 template r pmsitun
 template r tunenc
 template r linkstate
 template r attribset
 template r unknowns-out all
 template r unknowns-in all
 template r segrout
 template r bier
 template r role attrib
 template r send-community all
 !
 neighbor 10.5.1.10 template r
 !
 neighbor 10.26.26.2 template r
 !
 afi-vrf nmaas enable
 afi-vrf nmaas redistribute connected
 afi-vrf nmaas redistribute static
 !
 !
 redistribute connected route-policy prefer
 redistribute static route-policy prefer
 ecmp
 exit
!
router bgp6 65535
 vrf inet
 local-as 65535
 router-id 10.10.10.28
 address-family unicast multicast ouni omlt flowspec oflw vpnuni vpnmlt vpnflw ovpnuni ovpnmlt ovpnflw vpls mspw evpn mdt nsh rpd rtfilter srte osrt linkstate mvpn omvpn
 monitor bmp inet 10.10.10.10 17971
 !
 template r remote-as 65535
 template r local-as 65535
 template r address-family unicast multicast ouni omlt flowspec oflw vpnuni vpnmlt vpnflw ovpnuni ovpnmlt ovpnflw vpls mspw evpn mdt nsh rpd rtfilter srte osrt linkstate mvpn omvpn
 template r distance 200
 template r connection-mode active
 template r compression both
 template r additional-path-rx unicast multicast vpnuni vpnmlt
 template r additional-path-tx unicast multicast vpnuni vpnmlt
 template r update-source loopback0
 template r monitor bmp
 template r hostname domain
 template r software
 template r extended-open
 template r extended-update
 template r aigp
 template r traffeng
 template r pmsitun
 template r tunenc
 template r linkstate
 template r attribset
 template r unknowns-out all
 template r unknowns-in all
 template r segrout
 template r bier
 template r role attrib
 template r send-community all
 !
 neighbor 2001:db8:36::2 template r
 !
 neighbor 2001:db8:1026:1001::2 template r
 !
 !
 redistribute connected route-policy prefer
 redistribute static route-policy prefer
 ecmp
 exit
!
console0
 no exec authorization
 no login authentication
 exit
!
proxy-profile inet
 vrf inet
 source loopback0
 exit
!
!
ipv4 route eantc-bgp-ct 100.1.0.36 255.255.255.255 100.1.3.36
!
!
!
!
!
!
!
!
!
!
!
!
!
ipv4 route eantc-bgp-ct-bronze 100.1.0.36 255.255.255.255 100.1.2.36
ipv4 route eantc-bgp-ct-bronze 100.9.0.36 255.255.255.255 24.36.137.36
!
!
!
!
!
!
!
!
!
!
!
!
!
ipv4 route eantc-bgp-ct-gold 100.1.0.36 255.255.255.255 100.1.1.36
ipv4 route eantc-bgp-ct-gold 100.7.0.36 255.255.255.255 22.36.137.36
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
sensor bfd4
 path bfd4/peer/peer
 prefix freertr-bfd4
 prepend bfd4_
 command sho ipv4 bfd inet neighbor
 name 1 ip=
 key name bfd4/peer
 replace \. _
 column 2 name state
 column 2 replace down 0
 column 2 replace init 1
 column 2 replace shut -1
 column 2 replace up 2
 exit
!
sensor bfd6
 path bfd6/peer/peer
 prefix freertr-bfd6
 prepend bfd6_
 command sho ipv6 bfd inet neighbor
 name 1 ip=
 key name bfd6/peer
 replace \: _
 column 2 name state
 column 2 replace down 0
 column 2 replace init 1
 column 2 replace shut -1
 column 2 replace up 2
 exit
!
sensor bgp4peer
 path bgp4/peer/peer
 prefix freertr-bgp4peer
 prepend bgp4_peer_
 command sho ipv4 bgp 65535 summ
 name 0 peer=
 key name bgp4/peer
 replace \. _
 column 2 name state
 column 2 replace false 0
 column 2 replace true 1
 column 3 name learn
 column 4 name advert
 exit
!
sensor bgp4perf
 path bgp4/perf/perf
 prefix freertr-bgp4perf
 prepend bgp4_perf_
 command sho ipv4 bgp 65535 best | exc last
 key name bgp4/perf
 replace \s _
 column 1 name val
 exit
!
sensor bgp6peer
 path bgp6/peer/peer
 prefix freertr-bgp6peer
 prepend bgp6_peer_
 command sho ipv6 bgp 65535 summ
 name 0 peer=
 key name bgp6/peer
 replace \: _
 column 2 name state
 column 2 replace false 0
 column 2 replace true 1
 column 3 name advert
 exit
!
sensor bgp6perf
 path bgp6/perf/perf
 prefix freertr-bgp6perf
 prepend bgp6_perf_
 command sho ipv6 bgp 65535 best | exc last
 key name bgp6/perf
 replace \s _
 column 1 name val
 exit
!
sensor bmp
 path bmp/peer/peer
 prefix freertr-bmp
 prepend bmp_
 command sho bmp bmp
 name 0 from=
 key name bmp/peer
 addname 1 * rpeer=
 replace \. _
 replace \: _
 column 2 name asn
 column 3 name state
 column 3 replace false 0
 column 3 replace true 1
 column 4 name flaps
 exit
!
sensor check
 path check/peer/peer
 prefix freertr-check
 prepend check_
 command sho check
 name 0 name=
 key name check/peer
 skip 2
 column 1 name state
 column 1 replace false 0
 column 1 replace true 1
 column 2 name asked
 column 3 name time
 column 4 name passed
 column 6 name failed
 exit
!
sensor disk
 path disk/peer/peer
 prefix freertr-disk
 prepend system_disk_
 command flas disk /rtr/ | exc path
 key name disk/peer
 column 1 name _bytes
 exit
!
sensor dvigp4int
 path dvigp4int/peer/peer
 prefix freertr-dvigp4int
 prepend dvigp4_iface_
 command sho ipv4 pvrp 1 interface
 name 0 proto="pvrp1",ifc=
 key name dvigp4int/peer
 replace \. _
 column 1 name neighbors
 exit
!
sensor dvigp4peer
 path dvigp4peer/peer/peer
 prefix freertr-dvigp4peer
 prepend dvigp4_peers_
 command sho ipv4 pvrp 1 summary
 name 4 proto="pvrp1",ip=
 key name dvigp4peer/peer
 replace \. _
 column 5 name learn
 column 6 name advert
 exit
!
sensor dvigp6int
 path dvigp6int/peer/peer
 prefix freertr-dvigp6int
 prepend dvigp6_iface_
 command sho ipv6 pvrp 1 interface
 name 0 proto="pvrp1",ifc=
 key name dvigp6int/peer
 replace \. _
 column 1 name neighbors
 exit
!
sensor dvigp6peer
 path dvigp6peer/peer/peer
 prefix freertr-dvigp6peer
 prepend dvigp6_peers_
 command sho ipv6 pvrp 1 summary
 name 4 proto="pvrp1",ip=
 key name dvigp6peer/peer
 replace \: _
 column 5 name learn
 column 6 name advert
 exit
!
sensor flash
 path flash/peer/peer
 prefix freertr-flash
 prepend system_flash_
 command flas list /rtr/ | inc rtr
 name 2 name=
 key name flash/peer
 replace \- _
 replace \. _
 column 1 name size
 column 1 replace dir -1
 exit
!
sensor gc
 path gc/peer/peer
 prefix freertr-gc
 prepend system_gc_
 command sho watchdog gc | exc name
 key name gc/peer
 replace \s _
 column 1 name _val
 exit
!
sensor ifaces-hw
 path interfaces-hw/interface/counter
 prefix freertr-ifaces
 prepend iface_hw_byte_
 command sho inter hwsumm
 name 0 ifc=
 key name interfaces-hw/interface
 replace \. _
 column 1 name st
 column 1 replace admin -1
 column 1 replace down 0
 column 1 replace up 1
 column 2 name tx
 column 3 name rx
 column 4 name dr
 exit
!
sensor ifaces-hwp
 path interfaces-hwp/interface/counter
 prefix freertr-ifaces
 prepend iface_hw_pack_
 command sho inter hwpsumm
 name 0 ifc=
 key name interfaces-hwp/interface
 replace \. _
 column 1 name st
 column 1 replace admin -1
 column 1 replace down 0
 column 1 replace up 1
 column 2 name tx
 column 3 name rx
 column 4 name dr
 exit
!
sensor ifaces-sw
 path interfaces-sw/interface/counter
 prefix freertr-ifaces
 prepend iface_sw_byte_
 command sho inter swsumm
 name 0 ifc=
 key name interfaces-sw/interface
 replace \. _
 column 1 name st
 column 1 replace admin -1
 column 1 replace down 0
 column 1 replace up 1
 column 2 name tx
 column 3 name rx
 column 4 name dr
 exit
!
sensor ifaces-swp
 path interfaces-swp/interface/counter
 prefix freertr-ifaces
 prepend iface_sw_pack_
 command sho inter swpsumm
 name 0 ifc=
 key name interfaces-swp/interface
 replace \. _
 column 1 name st
 column 1 replace admin -1
 column 1 replace down 0
 column 1 replace up 1
 column 2 name tx
 column 3 name rx
 column 4 name dr
 exit
!
sensor ldp4nul
 path ldp4nul/peer/peer
 prefix freertr-ldp4nul
 prepend ldp4null_
 command sho ipv4 ldp inet nulled-summary
 name 3 ip=
 key name ldp4nul/peer
 skip 2
 replace \. _
 column 0 name prefix_learn
 column 1 name prefix_advert
 column 2 name prefix_nulled
 exit
!
sensor ldp4sum
 path ldp4sum/peer/peer
 prefix freertr-ldp4sum
 prepend ldp4_
 command sho ipv4 ldp inet summary
 name 6 ip=
 key name ldp4sum/peer
 skip 2
 replace \. _
 column 0 name prefix_learn
 column 1 name prefix_advert
 column 2 name layer2_learn
 column 3 name layer2_advert
 column 4 name p2mp_learn
 column 5 name p2mp_advert
 exit
!
sensor ldp6nul
 path ldp6nul/peer/peer
 prefix freertr-ldp6nul
 prepend ldp6null_
 command sho ipv6 ldp inet nulled-summary
 name 3 ip=
 key name ldp6nul/peer
 skip 2
 replace \: _
 column 0 name prefix_learn
 column 1 name prefix_advert
 column 2 name prefix_nulled
 exit
!
sensor ldp6sum
 path ldp6sum/peer/peer
 prefix freertr-ldp6sum
 prepend ldp6_
 command sho ipv6 ldp inet summary
 name 6 ip=
 key name ldp6sum/peer
 skip 2
 replace \: _
 column 0 name prefix_learn
 column 1 name prefix_advert
 column 2 name layer2_learn
 column 3 name layer2_advert
 column 4 name p2mp_learn
 column 5 name p2mp_advert
 exit
!
sensor lsigp4int
 path lsigp4int/peer/peer
 prefix freertr-lsigp4int
 prepend lsigp4_iface_
 command sho ipv4 lsrp 1 interface
 name 0 proto="lsrp1",ifc=
 key name lsigp4int/peer
 replace \. _
 column 1 name neighbors
 exit
!
sensor lsigp4peer
 path lsigp4peer/peer/peer
 prefix freertr-lsigp4peer
 prepend lsigp4_peers_
 command sho ipv4 lsrp 1 topology | inc reach
 name 0 proto="lsrp1",node=
 key name lsigp4peer/peer
 replace \. _
 column 2 name reachable
 column 2 replace false 0
 column 2 replace true 1
 column 3 name neighbors
 exit
!
sensor lsigp4perf
 path lsigp4perf/peer/peer
 prefix freertr-lsigp4perf
 prepend lsigp4_perf_
 command sho ipv4 lsrp 1 spf | inc reachable|fill|calc|run
 key name lsigp4perf/peer
 labels proto="lsrp1"
 skip 0
 column 1 name val
 exit
!
sensor lsigp6int
 path lsigp6int/peer/peer
 prefix freertr-lsigp6int
 prepend lsigp6_iface_
 command sho ipv6 lsrp 1 interface
 name 0 proto="lsrp1",ifc=
 key name lsigp6int/peer
 replace \. _
 column 1 name neighbors
 exit
!
sensor lsigp6peer
 path lsigp6peer/peer/peer
 prefix freertr-lsigp6peer
 prepend lsigp6_peers_
 command sho ipv6 lsrp 1 topology | inc reach
 name 0 proto="lsrp1",node=
 key name lsigp6peer/peer
 replace \. _
 column 2 name reachable
 column 2 replace false 0
 column 2 replace true 1
 column 3 name neighbors
 exit
!
sensor lsigp6perf
 path lsigp6perf/peer/peer
 prefix freertr-lsigp6perf
 prepend lsigp6_perf_
 command sho ipv6 lsrp 1 spf | inc reachable|fill|calc|run
 key name lsigp6perf/peer
 labels proto="lsrp1"
 skip 0
 column 1 name val
 exit
!
sensor routing4
 path routing4/peer/peer
 prefix freertr-routing4
 prepend routing4_
 command sho ipv4 protocol inet | beg computed
 name 0 proto=
 key name routing4/peer
 addname 1 * id=
 skip 2
 column 2 name ifaces
 column 3 name neighbors
 column 4 name computed_unicast
 column 5 name computed_multicast
 column 6 name computed_flowspec
 column 7 name computed_changed
 column 9 name redisted_unicast
 column 10 name redisted_multicast
 column 11 name redisted_flowspec
 column 12 name redisted_changed
 exit
!
sensor routing6
 path routing6/peer/peer
 prefix freertr-routing6
 prepend routing6_
 command sho ipv6 protocol inet | beg computed
 name 0 proto=
 key name routing6/peer
 addname 1 * id=
 skip 2
 column 2 name ifaces
 column 3 name neighbors
 column 4 name computed_unicast
 column 5 name computed_multicast
 column 6 name computed_flowspec
 column 7 name computed_changed
 column 9 name redisted_unicast
 column 10 name redisted_multicast
 column 11 name redisted_flowspec
 column 12 name redisted_changed
 exit
!
sensor sensor
 path sensor/peer/peer
 prefix freertr-sensor
 prepend sensor_
 command sho sensor
 name 0 met=
 key name sensor/peer
 column 1 name asked
 column 2 name time
 exit
!
sensor sys
 path sys/peer/peer
 prefix freertr-sys
 prepend system_
 command sho watchdog sys | exc name
 key name sys/peer
 replace \s _
 column 1 name _val
 exit
!
sensor tracker
 path tracker/peer/peer
 prefix freertr-tracker
 prepend tracker_
 command sho tracker
 name 0 name=
 key name tracker/peer
 replace \- _
 column 4 name state
 column 4 replace down 0
 column 4 replace up 1
 exit
!
sensor vrf
 path vrf/peer/peer
 prefix freertr-vrf
 prepend vrf_
 command sho vrf routing
 name 0 name=
 key name vrf/peer
 skip 2
 column 2 name v4 type="ifc"
 column 3 name v6 type="ifc"
 column 4 name v4 type="uni"
 column 5 name v6 type="uni"
 column 6 name v4 type="multi"
 column 7 name v6 type="multi"
 column 8 name v4 type="flow"
 column 9 name v6 type="flow"
 column 10 name v4 type="label"
 column 11 name v6 type="label"
 column 12 name v4 type="conn"
 column 13 name v6 type="conn"
 exit
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
server telnet p4
 security protocol telnet
 no exec authorization
 no login authentication
 vrf p4
 exit
!
server telnet tel
 security authentication access
 security rsakey rsa
 security dsakey dsa
 security ecdsakey ecdsa
 second-port 22
 no exec authorization
 login authentication access
 login logging
 login last global
 vrf inet
 exit
!
server p4lang p4
 export-vrf nmaas
 export-vrf inet
 export-vrf eantc-bgp-ct-gold
 export-vrf eantc-bgp-ct-bronze
 export-vrf eantc-bgp-ct
 export-port sdn55 8 40 1 0 0
 export-port sdn56 16 40 1 0 0
 export-port sdn53 32 100 0 0 0
 export-port sdn54 48 100 0 0 0
 export-port sdn47 134 10 1 1 1
 export-port sdn50 140 40 1 0 0
 export-port sdn49 156 100 1 0 0
 export-port tunnel3 dynamic 0 0 0 0
 export-port tunnel1 dynamic 0 0 0 0
 export-port tunnel2 dynamic 0 0 0 0
 interconnect ethernet0
 vrf p4
 exit
!
server prometheus home
 sensor bfd4
 sensor bfd6
 sensor bgp4peer
 sensor bgp4perf
 sensor bgp6peer
 sensor bgp6perf
 sensor bmp
 sensor check
 sensor disk
 sensor dvigp4int
 sensor dvigp4peer
 sensor dvigp6int
 sensor dvigp6peer
 sensor flash
 sensor gc
 sensor ifaces-hw
 sensor ifaces-hwp
 sensor ifaces-sw
 sensor ifaces-swp
 sensor ldp4nul
 sensor ldp4sum
 sensor ldp6nul
 sensor ldp6sum
 sensor lsigp4int
 sensor lsigp4peer
 sensor lsigp4perf
 sensor lsigp6int
 sensor lsigp6peer
 sensor lsigp6perf
 sensor routing4
 sensor routing6
 sensor sensor
 sensor sys
 sensor tracker
 sensor vrf
 vrf nmaas
 exit
!
client proxy inet
client domain-name mchome.nop.hu
client prefer-ipv6
client whois-server whois.ripe.net
client name-server 10.10.10.10
client upgrade-server http://freertr.mchome.nop.hu/
client upgrade-backup
client upgrade-revert 300000
client upgrade-script upgrade
client config-server http://config.mchome.nop.hu/
client config-username mc36
client config-password $v10$ZmFzem9t
client config-backup
client config-archive
client time-server 10.10.10.10
client time-zone CET
client mail-server mail.mchome.nop.hu
!
end
